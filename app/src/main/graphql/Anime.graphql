query Anime($page: Int = 1, $id: Int, $type: MediaType = ANIME, $search: String!, $sort: [MediaSort] = [POPULARITY_DESC, SCORE_DESC, SEARCH_MATCH]) {
    Page(page: $page, perPage: 10) {
        media(id: $id, type: $type, search: $search, sort: $sort) {
            ...itemFragment
            relations {
                edges {
                    id
                    relationType
                    node {
                        ...itemFragment
                    }
                }
            }
            recommendations(perPage: 7, sort: [RATING_DESC, ID]) {
                nodes {
                    id
                    rating
                    userRating
                    mediaRecommendation {
                        ...itemFragment
                    }
                }
            }
        }
    }
}

fragment itemFragment on Media {
    id
    title {
        userPreferred
        romaji
        english
        native
    }
    coverImage {
        extraLarge
        large
        color
    }
    startDate {
        year
        month
        day
    }
    endDate {
        year
        month
        day
    }
    bannerImage
    season
    seasonYear
    description
    type
    format
    status
    episodes
    genres
    nextAiringEpisode {
        airingAt
        timeUntilAiring
        episode
    }
}